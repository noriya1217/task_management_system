<%= form_with(model: @task, local: true) do |form| %>
  <% if @task.errors.any? %>
    <div id='error_explanation'>
      <h2><%= pluralize(@task.errors.count, 'error') %></h2> 

      <ul>
        <% @task.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class='field'>
    <%= form.label :subject %>
    <%= form.text_field :subject %>
  </div>

  <div class='field'>
    <%= form.label :content %>
    <%= form.text_field :content %>
  </div>

  <div class='field'>
    <%= form.label :expired_at %>
    <%= form.datetime_select :expired_at, :include_blank => true %>
  </div>

  <% if action_name == 'edit' %>
    <div class='field'>
      <%= form.label :state %>
      <%= form.radio_button 'state', '未着手' %>未着手
      <%= form.radio_button 'state', '着手中' %>着手中
      <%= form.radio_button 'state', '完了' %>完了
    </div>

    <div class='field'>
      <%= form.label :priority %>
      <%= form.radio_button 'priority', :high %>high
      <%= form.radio_button 'priority', :middle %>middle
      <%= form.radio_button 'priority', :low %>low
    </div>
  <% end %>

  <div class='actions'>
    <%= form.submit %>
  </div>

<% end %>